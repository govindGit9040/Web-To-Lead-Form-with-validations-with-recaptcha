<div id="contact" class="contact-inner  container section-gap">
    <div class="row no-gutters">
        <div class="col-lg-6">
            <div class="contact-map">
                <iframe
                    src="https://www.google.com/maps/embed?pb=!1m18!1m12!1m3!1d60975.5149935516!2d-73.99735520603153!3d40.7015706118682!2m3!1f0!2f0!3f0!3m2!1i1024!2i768!4f13.1!3m3!1m2!1s0x89c24fa5d33f083b%3A0xc80b8f06e177fe62!2sNew%20York%2C%20NY%2C%20USA!5e0!3m2!1sen!2sbd!4v1598633530051!5m2!1sen!2sbd"
                    style="border:0;" allowfullscreen="" aria-hidden="false" tabindex="0"></iframe>
            </div>
        </div>
        <div class="col-lg-6">
            <div class="contact-form">
                <div class="section-title left-border mb-30">
                    <span class="title-tag">Drop A Message</span>
                    <h2 class="title">Request a Free Consultation</h2>
                </div>

                <div class="Contactus_pardot_form">
                    <h2 class="contact_head_txt">Contact Us</h2>


                    <!-- <iframe src="https://go.pardot.com/l/907692/2021-03-17/7h4wf" width="100%" class="lazyloa" type="text/html" frameborder="0" allowTransparency="true" style="border: 0"></iframe>-->
                    <div class="cleando_contact_form">
                        <meta http-equiv="Content-type" content="text/html; charset=UTF-8">


                        <form action="https://webto.salesforce.com/servlet/servlet.WebToLead?encoding=UTF-8"
                            method="POST" id="my_captcha_form" onsubmit="return ValidateForm()">
                            <script src="https://www.google.com/recaptcha/api.js"></script>
                            <script>

                                function timestamp() { var response = document.getElementById("g-recaptcha-response"); if (response == null || response.value.trim() == "") { var elems = JSON.parse(document.getElementsByName("captcha_settings")[0].value); elems["ts"] = JSON.stringify(new Date().getTime()); document.getElementsByName("captcha_settings")[0].value = JSON.stringify(elems); } } setInterval(timestamp, 500); 
                            </script>
                            <input type=hidden name="captcha_settings"
                                value='{"keyname":"Techila","fallback":"true","orgId":"00Df4000001UKLI","ts":""}'
                                required="required">
                            <input type=hidden name="oid" value="00Df4000001UKLI" required="required">
                            <input type=hidden name="retURL" value="https://techilaservices.com/">
                            <div class="flex_inp_area">
                                <!-- <input id="first_name" placeholder="First name" maxlength="40" name="first_name"
                                    size="20" pattern="[a-zA-Z]+" title="Please enter alphabets only" type="text"
                                    onkeyup="lettersOnly(this)" required /> -->

                                <input id="first_name" placeholder="First name" maxlength="40" name="first_name"
                                    size="20" pattern="[a-zA-Z\s]+" title="Please enter valid first name. " type="text"
                                    onkeyup="lettersOnly(this)" required />

                                <!-- <input id="last_name" maxlength="80" name="last_name" size="20" type="text"
                                    placeholder="Last name" required="required" /> -->
                                <input id="last_name" placeholder="Last name" maxlength="80" name="last_name" size="20"
                                    pattern="[a-zA-Z\s]+" title="Please enter valid last name. " type="text"
                                    onkeyup="lettersOnly(this)" required />
                            </div>
                            <!-- <input id="email" maxlength="80" name="email" size="20" type="text"
                                placeholder="Enter your email" required="required" /> -->
                            <input id="email" maxlength="80" name="email" size="20" type="email"
                                placeholder="Enter your email" required />

                            <!-- <input id="company" maxlength="40" name="company" size="20" type="text"
                                placeholder="Company Name" /> -->
                            <input id="company" maxlength="40" name="company" size="20" type="text"
                                placeholder="Company Name" pattern="[a-zA-Z\s]+" title="Please enter company name. "
                                onkeyup="lettersOnly(this)" required />
                            <!-- <input id="phone" maxlength="40" name="phone" placeholder="Contact Number" size="20"
                                type="text" required="required" /> -->
                            <input id="phone" name="phone" maxlength="10" type="text" placeholder="Contact Number"
                                title="Please enter valid mobile number" pattern="[0-9]{10}" inputmode="numeric"
                                required />
                            <!-- <textarea id="description" name="description" placeholder="Comments"></textarea> -->
                            <textarea id="description" name="description" class="inp" placeholder="Comment" required=""
                                pattern="[a-zA-Z\s]+"></textarea>
                            <!-- <textarea id="description" maxlength="255" name="description" pattern="[a-zA-Z\s]+"
                                title="Please enter the comments." onkeyup="lettersOnly(this)" required
                                placeholder="Comments"> </textarea> -->
                            <div class="lead_source_detail_wtl">
                                <script>
                                    var pageSrc = encodeURI(window.location.href);
                                    document.write(' <select id="lead_source" name="lead_source"><option selected value="Techila Website">Techila Website</option></select><textarea id="00Nf400000SxqLA" name="00Nf400000SxqLA" type="text" wrap="soft">' + pageSrc + '</textarea>');
                                </script>
                            </div>
                            <div id="recaptcha" class="g-recaptcha"
                                data-sitekey="6LeRrVEUAAAAAP4TBuRL7vAoNQJQ_vtHie54eAOt"></div>
                            <span class="recaptcha_error">Please fill the reCAPTCHA</span>
                            <span class="email_error">Please enter company mail</span>
                            <div class="request_btn_area">
                                <input type="submit" name="submit" class="form_submit_btn">
                            </div>
                        </form>
                    </div>

                    <script>
                        document.getElementById("my_captcha_form").addEventListener("submit", function (evt) {

                            var response = grecaptcha.getResponse();
                            if (response.length == 0) {
                                //reCaptcha not verified
                                $(".recaptcha_error").show();
                                setTimeout(function () {
                                    $(".recaptcha_error").hide();
                                }, 3000);
                                evt.preventDefault();
                                return false;
                            }
                            //captcha verified
                            //do the rest of your validations here

                        });
                    </script>
                    <script type='text/javascript'>

                        function ValidateForm() {

                            var helperMsg = '';
                            var firstName = document.getElementById('first_name').value;
                            var lastName = document.getElementById('last_name').value;
                            var email = document.getElementById('email');
                            var company = document.getElementById('company').value;
                            var description = document.getElementById('description').value;


                            let regex = /\s/g;
                            let regex5 = /^[a-zA-Z]*$/g;

                            if (regex.test(firstName) && !regex5.test(firstName)) {
                                document.getElementById("first_name").style.border = "1px solid #a11";
                                helperMsg += "Please enter valid first name\n";
                            }
                            else if (!regex.test(firstName) && regex5.test(firstName)) {
                                document.getElementById("first_name").style.border = "1px solid #ccc";
                            }


                            let regex1 = /\s/g;

                            if (regex1.test(lastName) && !regex5.test(lastName)) {
                                document.getElementById("last_name").style.border = "1px solid #a11";
                                helperMsg += "Please enter valid last name\n";
                            }
                            else if (!regex.test(lastName) && regex5.test(lastName)) {
                                document.getElementById("last_name").style.border = "1px solid #ccc";
                            }

                            if (document.getElementById('email').value.length == 0) {
                                helperMsg += "Please enter valid Email Address \n\r";
                            }
                            if (document.getElementById('email').value.length > 0) {
                                var str = email.value;
                                email.value = str;
                                let hindex = str.indexOf("@");
                                let sindex = str.indexOf(".com");
                                let extracted = str.substring(hindex + 1, sindex);

                            }
                            if (!regex1.test(company) && !regex5.test(company)) {
                                document.getElementById("company").style.border = "1px solid #a11";
                                helperMsg += "Please enter valid company name\n";

                            }
                            else if (regex1.test(company) && regex5.test(company)) {
                                document.getElementById("company").style.border = "1px solid #ccc";
                            }

                            if (document.getElementById('phone').value.length == 0) {
                                helperMsg += "Please enter Phone \n\r";
                            }
                            //if (!regex1.test(description) && !regex5.test(description)) {
                            //    document.getElementById("description").style.border = "1px solid #a11";
                            //     helperMsg += "Please enter valid description\n";
                            // }
                            //  else if (regex.test(description) && regex5.test(description)) {
                            //     document.getElementById("description").style.border = "1px solid #ccc";
                            // }



                            //  captcha varification
                            var response = grecaptcha.getResponse();
                            if (response.length == 0) {
                                //reCaptcha not verified
                                jQuery(".recaptcha_error").addClass("active");
                                setTimeout(function () {
                                    jQuery(".recaptcha_error").removeClass("active");
                                }, 5000);
                                // evt.preventDefault();
                                helperMsg += "Please check recaptcha\n\r";
                            }
                            //captcha verified

                            //do the rest of your validations here

                            if (helperMsg.length > 0) {
                                //alert(helperMsg);
                                return false;
                            }


                            return true;
                        }

                        function lettersOnly(input) {
                            console.log("pressed");
                            var regex = /[^a-z ]/gi;
                            input.value = input.value.replace(regex, "");
                        }



                    </script>

                </div>
                <style>
                    .recaptcha_error {
                        color: red;
                        font-size: 13px;
                        padding: 0 0 5px;
                        display: none;
                    }

                    .Contactus_pardot_form {
                        padding: 20px 6% 20px;
                        background: #fff;
                        border-radius: 10px;
                        box-shadow: 0 0 5px #b3b3b3;
                        overflow: hidden;
                    }

                    .recaptcha_error,
                    .email_error {
                        color: red;
                        font-size: 13px;
                        padding: 0 0 5px;
                        display: none;
                        line-height: 18px;
                    }

                    .recaptcha_error.active,
                    .email_error.active {
                        display: block;
                    }

                    .contact-map {

                        border-radius: 10px;
                        box-shadow: 0 0 5px #b3b3b3;
                        overflow: hidden;
                    }

                    .Contactus_pardot_form iframe.lazyloa {
                        height: 430px !important;
                        max-height: 430px !important;
                    }

                    .contact_head_txt {
                        font-size: 28px;
                        font-family: poppins;
                        padding-bottom: 10px;
                        margin-bottom: 25px;
                        margin-top: 20px;
                        display: inline-block;
                        border-bottom: 2px solid #fc6a10
                    }

                    .cleando_contact_form input,
                    .cleando_contact_form textarea {
                        padding: 12px 20px;
                        border: 1px solid #ccc;
                        border-radius: 5px;
                        height: auto;
                        width: 100%;
                        margin-bottom: 20px;
                    }

                    .cleando_contact_form .lead_source_detail_wtl {
                        width: 0;
                        position: absolute;
                        opacity: 0;
                        top: 0;
                        height: 0;
                    }

                    .cleando_contact_form .flex_inp_area {
                        display: flex;
                    }

                    .cleando_contact_form .flex_inp_area input {
                        width: 48%;
                        margin-right: 4%;
                    }

                    .cleando_contact_form .flex_inp_area input:last-child {
                        margin-right: 0;
                    }

                    input.form_submit_btn {
                        margin-bottom: 0;
                        background: #4079ea;
                        border: 1px solid #4079ea;
                        color: #fff;
                        font-size: 17px;
                        margin-bottom: 10px;
                    }

                    .cleando_contact_form textarea {
                        margin-bottom: 0;
                    }

                    div#recaptcha {
                        width: max-content;
                        margin-bottom: 10px;
                        margin-top: 10px;
                    }

                    @media(max-width:767px) {

                        .cleando_contact_form .flex_inp_area {
                            display: block;
                        }

                        .cleando_contact_form .flex_inp_area input {
                            width: 100%;
                            margin-right: 0%;
                        }
                    }
                </style>
            </div>
        </div>
    </div>
</div>
